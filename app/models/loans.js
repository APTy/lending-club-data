// models/loans.js

var db = require('../config.js');
var mongoose = require('mongoose');
var Schema = mongoose.Schema;

var currentLoanSchema = new Schema({
  id: Number,
  memberId: Number,
  loanAmount: Number,
  fundedAmount: Number,
  term: Number,
  intRate: Number,
  expDefaultRate: Number,
  serviceFeeRate: Number,
  installment: Number,
  grade: String,
  subGrade: String,
  empLength: Number,
  homeOwnership: String,
  annualInc: Number,
  isIncV: String,
  acceptD: Date,
  expD: Date,
  listD: Date,
  creditPullD: Date,
  reviewStatusD: String,
  reviewStatus: String,
  desc: String,
  purpose: String,
  addrZip: String,
  addrState: String,
  investorCount: Number,
  ilsExpD: String,
  initialListStatus: String,
  empTitle: String,
  accNowDelinq: Number,
  accOpenPast24Mths: Number,
  bcOpenToBuy: Number,
  percentBcGt75: Number,
  bcUtil: Number,
  dti: Number,
  delinq2Yrs: Number,
  delinqAmnt: Number,
  earliestCrLine: Date,
  member_id: Number,
  loan_amnt: Number,
  funded_amnt: Number,
  funded_amnt_inv: Number,
  term: String,
  int_rate: String,
  installment: Number,
  grade: String,
  sub_grade: String,
  emp_title: String,
  emp_length: String,
  home_ownership: String,
  annual_inc: Number,
  is_inc_v: String,
  issue_d: Date,
  loan_status: String,
  pymnt_plan: String,
  url: String,
  desc: String,
  purpose: String,
  title: String,
  zip_code: String,
  addr_state: String,
  dti: Number,
  delinq_2yrs: Number,
  earliest_cr_line: Date,
  fico_range_low: Number,
  fico_range_high: Number,
  inq_last_6mths: Number,
  mths_since_last_delinq: Number,
  mths_since_last_record: Number,
  open_acc: Number,
  pub_rec: Number,
  revol_bal: Number,
  revol_util: String,
  total_acc: Number,
  initial_list_status: String,
  addr_state: String,
  ficoRangeLow: Number,
  ficoRangeHigh: Number,
  inqLast6Mths: Number,
  mthsSinceLastDelinq: Number,
  mthsSinceLastRecord: Number,
  mthsSinceRecentInq: Number,
  mthsSinceRecentRevolDelinq: Number,
  mthsSinceRecentBc: Number,
  mortAcc: Number,
  openAcc: Number,
  pubRec: Number,
  totalBalExMort: Number,
  revolBal: Number,
  revolUtil: Number,
  totalBcLimit: Number,
  totalAcc: Number,
  totalIlHighCreditLimit: Number,
  numRevAccts: Number,
  mthsSinceRecentBcDlq: Number,
  pubRecBankruptcies: Number,
  numAcctsEver120Ppd: Number,
  chargeoffWithin12Mths: Number,
  collections12MthsExMed: Number,
  taxLiens: Number,
  mthsSinceLastMajorDerog: Number,
  numSats: Number,
  numTlOpPast12m: Number,
  moSinRcntTl: Number,
  totHiCredLim: Number,
  totCurBal: Number,
  avgCurBal: Number,
  numBcTl: Number,
  numActvBcTl: Number,
  numBcSats: Number,
  pctTlNvrDlq: Number,
  numTl90gDpd24m: Number,
  numTl30dpd: Number,
  numTl120dpd2m: Number,
  numIlTl: Number,
  moSinOldIlAcct: Number,
  numActvRevTl: Number,
  moSinOldRevTlOp: Number,
  moSinRcntRevTlOp: Number,
  totalRevHiLim: Number,
  numRevTlBalGt0: Number,
  numOpRevTl: Number,
  totCollAmt: Number
});

var historicalLoanSchema = new Schema({
  id: Number,
  member_id: Number,
  loan_amnt: Number,
  funded_amnt: Number,
  funded_amnt_inv: Number,
  term: Number,
  int_rate: Number,
  installment: Number,
  grade: String,
  sub_grade: String,
  emp_title: String,
  emp_length: String,
  home_ownership: String,
  annual_inc: Number,
  is_inc_v: String,
  issue_d: Date,
  loan_status: String,
  pymnt_plan: String,
  url: String,
  desc: String,
  purpose: String,
  title: String,
  zip_code: String,
  addr_state: String,
  dti: Number,
  delinq_2yrs: Number,
  earliest_cr_line: Date,
  fico_range_low: Number,
  fico_range_high: Number,
  inq_last_6mths: Number,
  mths_since_last_delinq: Number,
  mths_since_last_record: Number,
  open_acc: Number,
  pub_rec: Number,
  revol_bal: Number,
  revol_util: Number,
  total_acc: Number,
  initial_list_status: String,
  out_prncp: Number,
  out_prncp_inv: Number,
  total_pymnt: Number,
  total_pymnt_inv: Number,
  total_rec_prncp: Number,
  total_rec_int: Number,
  total_rec_late_fee: Number,
  recoveries: Number,
  collection_recovery_fee: Number,
  last_pymnt_d: Date,
  last_pymnt_amnt: Number,
  next_pymnt_d: Date,
  last_credit_pull_d: Date,
  last_fico_range_high: Number,
  last_fico_range_low: Number,
  collections_12_mths_ex_med: Number,
  mths_since_last_major_derog: Number,
  policy_code: Number,
});

exports.Historical = mongoose.model('HistoricalLoan', historicalLoanSchema);
exports.Current = mongoose.model('CurrentLoan', currentLoanSchema);
